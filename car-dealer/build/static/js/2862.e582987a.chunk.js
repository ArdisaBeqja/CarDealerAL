"use strict";(self.webpackChunkcar_dealer=self.webpackChunkcar_dealer||[]).push([[2862],{8396:(e,l,a)=>{a.d(l,{Ay:()=>o,QC:()=>s,XA:()=>i,XZ:()=>d,_I:()=>n,tr:()=>t});const s=[{value:"3-Series",label:"3-Series"},{value:"Carrera",label:"Carrera"},{value:"GT-R",label:"GT-R"},{value:"Cayenne",label:"Cayenne"},{value:"Mazda6",label:"Mazda6"},{value:"Macan",label:"Macan"}],n=[{value:"2016",label:"2016"},{value:"2017",label:"2017"},{value:"2018",label:"2018"},{value:"2019",label:"2019"},{value:"2020",label:"2020"},{value:"2021",label:"2021"},{value:"2022",label:"2022"}],d=[{value:"2dr Car",label:"2dr Car"},{value:"4dr Car",label:"4dr Car"},{value:"Convertible",label:"Convertible"},{value:"Sedan",label:"Sedan"},{value:"Sports Utility",label:"Sports Utility"}],t=[{value:"Condition",label:"Condition"},{value:"All Conditions",label:"All Conditions"},{value:"Condition",label:"Condition"},{value:"Brand New",label:"Brand New"},{value:"Slightly Used",label:"Slightly Used"},{value:"Used",label:"Used"}],i=[{value:"Yes",label:"Yes"},{value:"No",label:"No"}],o=[{value:"BMW",label:"BMW"},{value:"Honda",label:"Honda"},{value:"Hyundai",label:"Hyundai"},{value:"Nissan",label:"Nissan"},{value:"Mercedes Benz",label:"Mercedes Benz"}]},8061:(e,l,a)=>{a.r(l),a.d(l,{default:()=>m});var s=a(7565),n=a(1030),d=a(477),t=a(1012),i=a(7078),o=a(5042),r=(a(3951),a(8396),a(7929));const c=function(){const[e,l]=(0,s.useState)(!1);return(0,r.jsx)(r.Fragment,{})};a(6849);const u=e=>{let{onClose:l,onLoginSuccess:a}=e;const[n,d]=(0,s.useState)(""),[t,i]=(0,s.useState)(""),[o,c]=(0,s.useState)("");return(0,r.jsx)("div",{className:"modal-overlay",children:(0,r.jsxs)("div",{className:"modal-content",children:[(0,r.jsx)("button",{className:"close-button",onClick:l,children:"\xd7"}),(0,r.jsx)("h2",{children:"Login"}),(0,r.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=await fetch("https://cardealeral.onrender.com/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:n,password:t})}),s=await e.json();e.ok?(a(s.user),l()):c(s.message||"Invalid credentials")}catch(s){console.error(s),c("Server error")}},children:[o&&(0,r.jsx)("p",{style:{color:"red"},children:o}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"Email:"}),(0,r.jsx)("input",{type:"text",value:n,onChange:e=>d(e.target.value),required:!0})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"Password:"}),(0,r.jsx)("input",{type:"password",value:t,onChange:e=>i(e.target.value),required:!0})]}),(0,r.jsx)("button",{type:"submit",className:"button flat",children:"Login"})]})]})})},m=e=>{const[l]=(0,o.A)(),[a,m]=(0,s.useState)(!1),[h,b]=(0,s.useState)(null),[v,x]=(0,s.useState)(!1),j=(0,n.Zp)();(0,s.useEffect)((()=>{const e=localStorage.getItem("adminUser");e&&b(JSON.parse(e))}),[]);const N=()=>m(!a);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("header",{className:"site-header header-default ".concat(l?"header-sticky":""," ").concat(e.className||""),children:(0,r.jsx)("div",{className:"header-wrapper",children:(0,r.jsx)("div",{className:"".concat(e.containerSize||"container-fluid"),children:(0,r.jsxs)("div",{className:"header-inner",children:[(0,r.jsx)("div",{className:"site-logo",children:(0,r.jsx)(d.k2,{className:"logo-link",to:"/",children:(0,r.jsx)("h1",{style:{margin:0,fontSize:"28px",fontWeight:"700",color:"#fff",fontFamily:"sans-serif"}})})}),(0,r.jsxs)("div",{className:"menu-links",children:[(0,r.jsx)("div",{className:"main-menu d-none d-lg-block",children:(0,r.jsx)(t.A,{})}),(0,r.jsxs)("div",{className:"header-action",children:[(0,r.jsx)("div",{className:"header-action-info",children:(0,r.jsx)("ul",{children:(0,r.jsx)("li",{children:(0,r.jsx)(c,{})},"1")})}),h&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"header-button d-none d-lg-block",children:(0,r.jsx)(d.k2,{className:"button flat",to:"/add-car",children:"Add Car"})}),(0,r.jsx)("div",{className:"header-button d-none d-lg-block",children:(0,r.jsx)("button",{className:"button flat",onClick:()=>{b(null),localStorage.removeItem("adminUser"),j("/")},children:"Logout"})})]}),!h&&(0,r.jsx)("div",{className:"header-button d-none d-lg-block",children:(0,r.jsx)("button",{className:"button flat",onClick:N,children:"Loginnn"})}),(0,r.jsx)("div",{className:"mobile-menu-btn d-lg-none",children:(0,r.jsx)(i.A,{position:"end",onLoginClick:N,adminUser:h})})]})]})]})})})}),a&&(0,r.jsx)(u,{onClose:N,onLoginSuccess:e=>{"admin"===e.role?(b(e),localStorage.setItem("adminUser",JSON.stringify(e)),x(!0)):alert("Access denied. Only admin can add cars.")}}),v&&(0,r.jsx)("div",{className:"modal show d-block",tabIndex:"-1",role:"dialog",children:(0,r.jsx)("div",{className:"modal-dialog",role:"document",children:(0,r.jsxs)("div",{className:"modal-content",children:[(0,r.jsxs)("div",{className:"modal-header",children:[(0,r.jsx)("h5",{className:"modal-title",children:"Welcome"}),(0,r.jsx)("button",{type:"button",className:"btn-close btn btn-danger",onClick:()=>x(!1),"aria-label":"Close"})]}),(0,r.jsx)("div",{className:"modal-body",children:(0,r.jsxs)("p",{children:["Welcome, ",(null===h||void 0===h?void 0:h.name)||"Admin","!"]})})]})})}),(0,r.jsx)(n.sv,{})]})}},3951:()=>{}}]);
//# sourceMappingURL=2862.e582987a.chunk.js.map