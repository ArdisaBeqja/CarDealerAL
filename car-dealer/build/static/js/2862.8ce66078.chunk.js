"use strict";(self.webpackChunkcar_dealer=self.webpackChunkcar_dealer||[]).push([[2862],{8396:(e,a,l)=>{l.d(a,{Ay:()=>r,QC:()=>s,XA:()=>o,XZ:()=>d,_I:()=>n,tr:()=>t});const s=[{value:"3-Series",label:"3-Series"},{value:"Carrera",label:"Carrera"},{value:"GT-R",label:"GT-R"},{value:"Cayenne",label:"Cayenne"},{value:"Mazda6",label:"Mazda6"},{value:"Macan",label:"Macan"}],n=[{value:"2016",label:"2016"},{value:"2017",label:"2017"},{value:"2018",label:"2018"},{value:"2019",label:"2019"},{value:"2020",label:"2020"},{value:"2021",label:"2021"},{value:"2022",label:"2022"}],d=[{value:"2dr Car",label:"2dr Car"},{value:"4dr Car",label:"4dr Car"},{value:"Convertible",label:"Convertible"},{value:"Sedan",label:"Sedan"},{value:"Sports Utility",label:"Sports Utility"}],t=[{value:"Condition",label:"Condition"},{value:"All Conditions",label:"All Conditions"},{value:"Condition",label:"Condition"},{value:"Brand New",label:"Brand New"},{value:"Slightly Used",label:"Slightly Used"},{value:"Used",label:"Used"}],o=[{value:"Yes",label:"Yes"},{value:"No",label:"No"}],r=[{value:"BMW",label:"BMW"},{value:"Honda",label:"Honda"},{value:"Hyundai",label:"Hyundai"},{value:"Nissan",label:"Nissan"},{value:"Mercedes Benz",label:"Mercedes Benz"}]},8061:(e,a,l)=>{l.r(a),l.d(a,{default:()=>m});var s=l(7565),n=l(1030),d=l(477),t=l(1012),o=l(7078),r=l(5042),i=(l(3951),l(8396),l(7929));const c=function(){const[e,a]=(0,s.useState)(!1);return(0,i.jsx)(i.Fragment,{})};l(6849);const u=e=>{let{onClose:a,onLoginSuccess:l}=e;const[n,d]=(0,s.useState)(""),[t,o]=(0,s.useState)(""),[r,c]=(0,s.useState)("");return(0,i.jsx)("div",{className:"modal-overlay",children:(0,i.jsxs)("div",{className:"modal-content",children:[(0,i.jsx)("button",{className:"close-button",onClick:a,children:"\xd7"}),(0,i.jsx)("h2",{children:"Login"}),(0,i.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=await fetch("".concat("https://car-dealer-backend.onrender.com","/api/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:n,password:t})}),s=await e.json();e.ok?(l(s.user),a()):c(s.message||"Invalid credentials")}catch(s){console.error(s),c("Server error")}},children:[r&&(0,i.jsx)("p",{style:{color:"red"},children:r}),(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{children:"Email:"}),(0,i.jsx)("input",{type:"text",value:n,onChange:e=>d(e.target.value),required:!0})]}),(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{children:"Password:"}),(0,i.jsx)("input",{type:"password",value:t,onChange:e=>o(e.target.value),required:!0})]}),(0,i.jsx)("button",{type:"submit",className:"button flat",children:"Login"})]})]})})},m=e=>{const[a]=(0,r.A)(),[l,m]=(0,s.useState)(!1),[b,h]=(0,s.useState)(null),[v,x]=(0,s.useState)(!1),j=(0,n.Zp)();(0,s.useEffect)((()=>{const e=localStorage.getItem("adminUser");e&&h(JSON.parse(e))}),[]);const N=()=>m(!l);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("header",{className:"site-header header-default ".concat(a?"header-sticky":""," ").concat(e.className||""),children:(0,i.jsx)("div",{className:"header-wrapper",children:(0,i.jsx)("div",{className:"".concat(e.containerSize||"container-fluid"),children:(0,i.jsxs)("div",{className:"header-inner",children:[(0,i.jsx)("div",{className:"site-logo",children:(0,i.jsx)(d.k2,{className:"logo-link",to:"/",children:(0,i.jsx)("h1",{style:{margin:0,fontSize:"28px",fontWeight:"700",color:"#fff",fontFamily:"sans-serif"}})})}),(0,i.jsxs)("div",{className:"menu-links",children:[(0,i.jsx)("div",{className:"main-menu d-none d-lg-block",children:(0,i.jsx)(t.A,{})}),(0,i.jsxs)("div",{className:"header-action",children:[(0,i.jsx)("div",{className:"header-action-info",children:(0,i.jsx)("ul",{children:(0,i.jsx)("li",{children:(0,i.jsx)(c,{})},"1")})}),b&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"header-button d-none d-lg-block",children:(0,i.jsx)(d.k2,{className:"button flat",to:"/add-car",children:"Add Car"})}),(0,i.jsx)("div",{className:"header-button d-none d-lg-block",children:(0,i.jsx)("button",{className:"button flat",onClick:()=>{h(null),localStorage.removeItem("adminUser"),j("/")},children:"Logout"})})]}),!b&&(0,i.jsx)("div",{className:"header-button d-none d-lg-block",children:(0,i.jsx)("button",{className:"button flat",onClick:N,children:"Login"})}),(0,i.jsx)("div",{className:"mobile-menu-btn d-lg-none",children:(0,i.jsx)(o.A,{position:"end"})})]})]})]})})})}),l&&(0,i.jsx)(u,{onClose:N,onLoginSuccess:e=>{"admin"===e.role?(h(e),localStorage.setItem("adminUser",JSON.stringify(e)),x(!0)):alert("Access denied. Only admin can add cars.")}}),v&&(0,i.jsx)("div",{className:"modal show d-block",tabIndex:"-1",role:"dialog",children:(0,i.jsx)("div",{className:"modal-dialog",role:"document",children:(0,i.jsxs)("div",{className:"modal-content",children:[(0,i.jsxs)("div",{className:"modal-header",children:[(0,i.jsx)("h5",{className:"modal-title",children:"Welcome"}),(0,i.jsx)("button",{type:"button",className:"btn-close btn btn-danger",onClick:()=>x(!1),"aria-label":"Close"})]}),(0,i.jsx)("div",{className:"modal-body",children:(0,i.jsxs)("p",{children:["Welcome, ",(null===b||void 0===b?void 0:b.name)||"Admin","!"]})})]})})}),(0,i.jsx)(n.sv,{})]})}},3951:()=>{}}]);
//# sourceMappingURL=2862.8ce66078.chunk.js.map